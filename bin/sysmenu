#!/bin/bash
# Program launcher using dmenu 
# The config file($HOME/.sysmenu) is in the format name:command
# DEPS: ripgrep, dmenu 

MENU_CMD="bemenu --prompt sys"
CONFIG_FILE="$HOME/.sysmenu"

awnser=$(rg -o "^[^#:]*" $CONFIG_FILE | $MENU_CMD)

if [ "$awnser" = "" ] ; then
   exit -1
fi

eval $(rg -o -r '$2' "($awnser[\s:]*)([^#\n]*)" $CONFIG_FILE)
